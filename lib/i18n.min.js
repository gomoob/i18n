!function(e,r){if(e&&"function"==typeof define&&define.amd)define(["jquery","node-polyglot"],function(s,t){return e.Editor=r(e,s,t)});else if("undefined"!=typeof exports){var s=require("jquery"),t=require("node-polyglot");module.exports=r(e,s,t)}else e.Editor=r(e,e._,e.Polyglot)}(this,function(e,r,s){"use strict";var t=s.prototype;return s=function(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.urlBuilder=e.urlBuilder,this.warn=e.warn||function(e){console.warn("WARNING: "+e)},this.phrasesCache={},this.currentType=e&&e.type?e.type:"__default__",this.currentVersion=e&&e.version?e.version:"__default__",this.cache(this.currentType,this.currentLocale,this.currentVersion,this.phrases)},s.prototype=t,s.prototype.type=function(e){return e&&(this.currentType=e),this.currentType},s.prototype.version=function(e){return e&&(this.currentVersion=e),this.currentVersion},s.prototype.cache=function(e,r,s,t){this.phrasesCache[e]||(this.phrasesCache[e]={}),this.phrasesCache[e][r]||(this.phrasesCache[e][r]={}),this.phrasesCache[e][r][s]=t},s.prototype.load=function(e){var s=e.locale||"en",t=e.type||"__default__",i=e.version||"__default__";if(!e.forceReload&&this.phrasesCache[t]&&this.phrasesCache[t][s])if(i&&!this.phrasesCache[t][s][i])delete this.phrasesCache[t][local];else if(this.replace(this.phrasesCache[t][s][i]),e&&e.success)return void e.success(this.phrasesCache[t][s][i]);if(!this.urlBuilder)throw new Error("No 'urlBuilder' has been defined !");r.ajax({dataType:"json",url:this.urlBuilder(e.type,e.locale,e.version),success:r.proxy(function(r,o,h){this.replace(r),this.cache(t,s,i,r),e&&e.success&&e.success(r,o,h)},this),error:function(r,s,t){e&&e.error&&e.error(r,s,t)}})},s});
//# sourceMappingURL=i18n.min.js.map